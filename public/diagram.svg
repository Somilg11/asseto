<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="680" viewBox="0 0 1200 680">
  <style>
    .bg { fill: #0f172a; }
    .card { fill: #111827; stroke: #374151; stroke-width: 1; rx: 8; }
    .text { fill: #e5e7eb; font-family: Inter, Arial, sans-serif; font-size: 14px; }
    .title { font-weight: 700; font-size: 16px; }
    .arrow { stroke: #9ca3af; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9ca3af" />
    </marker>
  </defs>

  <rect width="100%" height="100%" fill="#0b1220" />

  <!-- Left column -->
  <g transform="translate(40,40)">
    <rect class="card" x="0" y="0" width="220" height="60" rx="8" />
    <text class="text title" x="16" y="28">Browser</text>
    <text class="text" x="16" y="46" font-size="12">(User)</text>

    <rect class="card" x="0" y="110" width="220" height="60" rx="8" />
    <text class="text title" x="16" y="138">Next.js Server</text>
    <text class="text" x="16" y="156" font-size="12">(App Router / Server)</text>
  </g>

  <!-- Middle column -->
  <g transform="translate(320,40)">
    <rect class="card" x="0" y="0" width="280" height="90" rx="8" />
    <text class="text title" x="16" y="28">Server Component</text>
    <text class="text" x="16" y="46" font-size="12">(reads searchParams, renders UI)</text>

    <rect class="card" x="0" y="130" width="280" height="60" rx="8" />
    <text class="text title" x="16" y="158">lib/utils/currency</text>
    <text class="text" x="16" y="176" font-size="12">(read currency & symbol)</text>
  </g>

  <!-- Right column -->
  <g transform="translate(680,40)">
    <rect class="card" x="0" y="0" width="280" height="80" rx="8" />
    <text class="text title" x="16" y="28">Prisma Client</text>
    <text class="text" x="16" y="46" font-size="12">(queries / aggregates)</text>

    <rect class="card" x="0" y="120" width="280" height="70" rx="8" />
    <text class="text title" x="16" y="148">Database</text>
    <text class="text" x="16" y="166" font-size="12">(Neon / Postgres)</text>
  </g>

  <!-- Bottom right: HTML output -->
  <g transform="translate(320,300)">
    <rect class="card" x="0" y="0" width="460" height="70" rx="8" />
    <text class="text title" x="16" y="28">Rendered HTML</text>
    <text class="text" x="16" y="48" font-size="12">(table / mobile cards)</text>
  </g>

  <!-- Actions subgraph -->
  <g transform="translate(40,420)">
    <rect class="card" x="0" y="0" width="920" height="120" rx="8" />
    <text class="text title" x="16" y="28">Client Actions (Form submits)</text>
    <text class="text" x="16" y="50" font-size="12">Browser submits forms â†’ Server Actions (lib/actions/products.ts)</text>
    <text class="text" x="16" y="70" font-size="12">Server Actions call Prisma and redirect back</text>
  </g>

  <!-- arrows -->
  <path class="arrow" d="M260 70 L320 70" />
  <path class="arrow" d="M540 70 L680 70" />
  <path class="arrow" d="M840 160 L840 220 L580 220" />
  <path class="arrow" d="M440 220 L440 300" />
  <path class="arrow" d="M440 370 L440 420" />
  <path class="arrow" d="M200 200 L320 160" />
  <path class="arrow" d="M760 190 L760 300" />

  <!-- labels on arrows -->
  <text class="text" x="300" y="58" font-size="12">GET /inventory</text>
  <text class="text" x="520" y="58" font-size="12">query DB</text>
  <text class="text" x="700" y="260" font-size="12">results</text>

</svg>
